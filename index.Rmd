---
title       : Parlaments
subtitle    : Parlament parties seats of different countries
author      : Denis PETROV
job         : Coursera student
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
---

<style>
strong {
  font-weight: bold;
}
</style>

```{r 'libs', echo = FALSE}
library (xtable)
suppressPackageStartupMessages (library (googleVis))  # gvisPieChart ()
op <- options (gvis.plot.tag = 'chart')
```


## About the data

We present the data of the number of seats in parlamesn for different countries 
of different years of elections.
The data contains:
* __Party__ is a party of the parlament.
* __Seats__ is a number of seats in the parlament of selected country for 
the chosen year.
* __perc of seats__ is a percentage of seats.
* __Banzhaf Power Index__ is a power index defined by the probability of 
changing an outcome of a vote where voting rights are not necessarily equally 
divided among the voters or shareholders 
[read more on 
<a href="http://en.wikipedia.org/wiki/Banzhaf_power_index">Wikipedia</a>].
* __Shapley Shubik Power Index__ is an index which counts the number 
of times a party makes the coalition a winning one joining it 
(order does matter)
[[Wikipedia](http://en.wikipedia.org/wiki/Shapley%E2%80%93Shubik_power_index)].

---

## Data representation

By choosing a country and a year from the list you obtain:
* Pie chart of the seats of each party.
* Table of detailed information including party name, number of seats and 
indices.

One can try the application 
[here](https://petrov.shinyapps.io/my_coef_coursera/).

---

## Data example (pie chart)

```{r 'set example parameters', echo = FALSE}
country.example <- 'Austria'
year.example <- '2002'
```

Pie chart for `r country.example` (`r year.example`)

```{r 'pie chart example', echo = FALSE, results = 'asis'}

ds.countries <- read.csv (file = './data/countries.csv', sep = ',')
flds.order <- c ('country', 'year', 'Party', 'Seats', 'perc.of.seats', 
                 'Banzhaf.Power.Index', 'Shapley.Shubik.Power.Index')

ds.countries <- ds.countries [, flds.order]

# set the names for the representation
names (ds.countries) <- gsub ('\\.', ' ', names (ds.countries))

df.plot <- ds.countries [ds.countries$country == country.example & 
                                    ds.countries$year == year.example, 
                                    c('Party', 'Seats')]

pie <- gvisPieChart (df.plot, options = list (height='500'))

plot (pie)
```

---

## Data example (table)

Corresponding table for `r country.example` (`r year.example`)

```{r 'table example', echo = FALSE, results = 'asis'}

flds.print <- c ('Party', 'Seats', 'perc of seats', 
                 'Banzhaf Power Index', 'Shapley Shubik Power Index')

ds.countries.print <- ds.countries [ds.countries$country == country.example & 
                                    ds.countries$year == year.example, 
                                    flds.print]
print (xtable (ds.countries.print), type = 'html', include.rownames = FALSE)

```

